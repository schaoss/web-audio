{"version":3,"sources":["webpack:///./src/views/PannerNode.vue?aca3","webpack:///./src/views/PannerNode.vue?6daa","webpack:///src/views/PannerNode.vue","webpack:///./src/views/PannerNode.vue?614d","webpack:///./src/views/PannerNode.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PannerNode_vue_vue_type_style_index_0_id_33dcc5ea_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PannerNode_vue_vue_type_style_index_0_id_33dcc5ea_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","on","click","clickHandler","reset","staticClass","_m","for","_s","frequency","directives","name","rawName","value","expression","type","min","max","step","domProps","input","changeHandler","__r","$event","target","volume","data-role","mouseleave","onMouseUp","style","left","dragData","listener","x","top","y","mousedown","onMouseDown","mousemove","onMouseMove","mouseup","source","staticRenderFns","PannerNodevue_type_script_lang_js_","data","AudioContext","window","webkitAudioContext","audioCtx","oscillator","createOscillator","gainNode","createGain","panner","createPanner","isPlaying","waveType","detune","draggingElem","methods","stop","play","setNoteConfig","connect","destination","disconnect","gain","setPosition","e","clientX","clientY","mounted","rolloffFactor","start","views_PannerNodevue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-c40bed2e.b4e23fa7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PannerNode.vue?vue&type=style&index=0&id=33dcc5ea&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PannerNode.vue?vue&type=style&index=0&id=33dcc5ea&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"panner-node\"}},[_c('h1',[_vm._v(\"Panner Node\")]),_c('button',{on:{\"click\":_vm.clickHandler}},[_vm._v(\" Play / Pause \")]),_c('button',{on:{\"click\":_vm.reset}},[_vm._v(\" Reset \")]),_c('div',{attrs:{\"id\":\"config\"}},[_c('div',{staticClass:\"audio-note\"},[_vm._m(0),_c('div',{staticClass:\"item\"},[_c('label',{attrs:{\"for\":\"frequency\"}},[_vm._v(\"frequency : \"),_c('span',[_vm._v(_vm._s(_vm.frequency))])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.frequency),expression:\"frequency\"}],attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"1960\",\"step\":\"1\",\"id\":\"frequencyRange\"},domProps:{\"value\":(_vm.frequency)},on:{\"input\":_vm.changeHandler,\"__r\":function($event){_vm.frequency=$event.target.value}}})])]),_c('div',{staticClass:\"audio-note\"},[_vm._m(1),_c('div',{staticClass:\"item\"},[_c('label',{attrs:{\"for\":\"volume\"}},[_vm._v(\"volume : \"),_c('span',[_vm._v(_vm._s(_vm.volume))])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.volume),expression:\"volume\"}],attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"5\",\"step\":\"0.1\",\"id\":\"volumeRange\"},domProps:{\"value\":(_vm.volume)},on:{\"input\":_vm.changeHandler,\"__r\":function($event){_vm.volume=$event.target.value}}})])])]),_c('div',{attrs:{\"id\":\"drag-area\",\"data-role\":\"drag-drop-container\"},on:{\"mouseleave\":_vm.onMouseUp}},[_c('div',{style:({left: this.dragData.listener.x + 'px', top: this.dragData.listener.y + 'px'}),attrs:{\"id\":\"listener\"},on:{\"mousedown\":_vm.onMouseDown,\"mousemove\":_vm.onMouseMove,\"mouseup\":_vm.onMouseUp,\"mouseleave\":_vm.onMouseUp}},[_vm._v(\" 聽者 \")]),_c('div',{style:({left: this.dragData.source.x + 'px', top: this.dragData.source.y + 'px'}),attrs:{\"id\":\"source\"},on:{\"mousedown\":_vm.onMouseDown,\"mousemove\":_vm.onMouseMove,\"mouseup\":_vm.onMouseUp,\"mouseleave\":_vm.onMouseUp}},[_vm._v(\" 音源 \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',[_c('span',[_vm._v(\"音源\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',[_c('span',[_vm._v(\"增益節點\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"panner-node\">\n    <h1>Panner Node</h1>\n    <button @click=\"clickHandler\"> Play / Pause </button>\n    <button @click=\"reset\"> Reset </button>\n    <div id=\"config\">\n      <div class=\"audio-note\">\n        <h3><span>音源</span></h3>\n        <div class=\"item\">\n          <label for=\"frequency\">frequency : <span>{{frequency}}</span> </label>\n          <input type=\"range\" min=\"0\" max=\"1960\" step=\"1\" id=\"frequencyRange\" v-model=\"frequency\" @input=\"changeHandler\">\n        </div>\n      </div>\n      <div class=\"audio-note\">\n        <h3><span>增益節點</span></h3>\n        <div class=\"item\">\n          <label for=\"volume\">volume : <span>{{volume}}</span> </label>\n          <input type=\"range\" min=\"0\" max=\"5\" step=\"0.1\" id=\"volumeRange\" v-model=\"volume\" @input=\"changeHandler\">\n        </div>\n      </div>\n    </div>\n    <div id=\"drag-area\" data-role=\"drag-drop-container\" @mouseleave=\"onMouseUp\">\n      <div id=\"listener\"\n        @mousedown=\"onMouseDown\" @mousemove=\"onMouseMove\" @mouseup=\"onMouseUp\" @mouseleave=\"onMouseUp\"\n        :style=\"{left: this.dragData.listener.x + 'px', top: this.dragData.listener.y + 'px'}\"\n      > 聽者 </div>\n      <div id=\"source\"\n        @mousedown=\"onMouseDown\" @mousemove=\"onMouseMove\" @mouseup=\"onMouseUp\" @mouseleave=\"onMouseUp\"\n        :style=\"{left: this.dragData.source.x + 'px', top: this.dragData.source.y + 'px'}\"\n      > 音源 </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    const AudioContext = window.AudioContext || window.webkitAudioContext // 跨瀏覽器\n    const audioCtx = new AudioContext() // 主控台的概念\n    const oscillator = audioCtx.createOscillator() // 振盪器 (音源)\n    const gainNode = audioCtx.createGain() // 增益節點 控制音量的\n    const panner = audioCtx.createPanner() // 3D音源計算\n    const listener = audioCtx.listener // 聽者\n    return{\n      isPlaying: false,\n      audioCtx,\n      oscillator,\n      gainNode,\n      panner,\n      listener,\n      waveType: 'triangle', // sine, square, sawtooth, triangle\n      frequency: 440, // A4\n      detune: 0, // 解諧 可做出和聲\n      volume: 1, // 音量\n\n      draggingElem: '',\n      dragData: {\n        listener: {\n          x: 706,\n          y: 428\n        },\n        source: {\n          x: 413,\n          y: 250\n        }\n      }\n    }\n  },\n  methods: {\n    clickHandler(){\n      if (this.isPlaying) {\n        this.stop()\n      } else {\n        this.play()\n      }\n      this.isPlaying = !this.isPlaying\n    },\n    changeHandler(){\n      this.setNoteConfig()\n    },\n    reset(){\n      this.frequency = 440\n      this.volume = 1\n      this.setNoteConfig()\n    },\n    play() {\n      this.panner.connect(this.audioCtx.destination)\n    },\n    stop() {\n      this.panner.disconnect(this.audioCtx.destination)\n    },\n    setNoteConfig() {\n      this.oscillator.type = this.waveType\n      this.oscillator.frequency.value = this.frequency\n      this.oscillator.detune.value = this.detune\n      this.gainNode.gain.value = this.volume\n      this.panner.setPosition(this.dragData.source.x, this.dragData.source.y, 1)\n      this.listener.setPosition(this.dragData.listener.x, this.dragData.listener.y, 0)\n    },\n    onMouseDown(e) {\n      this.draggingElem = e.target.id\n\n    },\n    onMouseMove(e) {\n      if (!this.draggingElem) {\n        return\n      }\n      this.dragData[this.draggingElem].x = e.clientX - 25\n      this.dragData[this.draggingElem].y = e.clientY - 25\n      this.setNoteConfig()\n    }, \n    onMouseUp() {\n      this.draggingElem = ''\n    },\n  },\n  mounted() {\n    this.setNoteConfig()\n    this.panner.rolloffFactor = 0.1\n    this.oscillator.connect(this.gainNode) // 將音源接到音量節點上\n    this.gainNode.connect(this.panner)\n    this.oscillator.start() // 啟動音源\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n#panner-node {\n  > button {\n    margin: 10px;\n  }\n  #config {\n    width: 1000px;\n    margin: auto;\n    display: flex;\n    justify-content: space-around;\n    flex-direction: row;\n    > .audio-note {\n      width: 450px;\n      margin: 15px auto;\n      border: solid 1px #d9d9d9;\n      > h3 {\n        text-align: center;\n        margin: 10px;\n        > span {\n          display: inline-block;\n        }\n      }\n      > .item {\n        display: flex;\n        width: 90%;\n        margin: 5px auto;\n        padding: 10px;\n        > label {\n          display: inline-block;\n          width: 40%;\n          text-align: right;\n          > span {\n            font-weight: 600;\n            display: inline-block;\n            text-align: center;\n          }\n        }\n        > input {\n          width: 60%;\n          margin: 0 20px;\n        }\n        > select {\n          margin: 0 20px;\n        }\n      }\n    }\n  }\n  #drag-area {\n    width: 1000px;\n    height: 400px;\n    border: solid 1px #d9d9d9;\n    margin: auto;\n    overflow: hidden;\n    line-height: 50px;\n    font-size: 150%;\n    user-select: none;\n    >div {\n      position: absolute;\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      padding: 10px;\n    }\n    #listener {\n      background-color: #3692BE;\n    }\n    #source {\n      background-color: #BF8F36;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PannerNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PannerNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PannerNode.vue?vue&type=template&id=33dcc5ea&scoped=true&\"\nimport script from \"./PannerNode.vue?vue&type=script&lang=js&\"\nexport * from \"./PannerNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PannerNode.vue?vue&type=style&index=0&id=33dcc5ea&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33dcc5ea\",\n  null\n  \n)\n\ncomponent.options.__file = \"PannerNode.vue\"\nexport default component.exports"],"sourceRoot":""}