(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b43f97d8"],{"04ff":function(t,e,r){var n=r("5ca1"),a=r("3ca5");n(n.S+n.F*(Number.parseInt!=a),"Number",{parseInt:a})},"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,r){var n=r("52a7"),a=r("4630"),i=r("6821"),o=r("6a99"),s=r("69a8"),c=r("c69a"),u=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?u:function(t,e){if(t=i(t),e=o(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return a(!n.f.call(t,e),t[e])}},"214f":function(t,e,r){"use strict";var n=r("32e9"),a=r("2aba"),i=r("79e5"),o=r("be13"),s=r("2b4c");t.exports=function(t,e,r){var c=s(t),u=r(o,c,""[t]),l=u[0],f=u[1];i(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(a(String.prototype,t,l),n(RegExp.prototype,c,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},"28a5":function(t,e,r){r("214f")("split",2,function(t,e,n){"use strict";var a=r("aae3"),i=n,o=[].push,s="split",c="length",u="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[c]||2!="ab"[s](/(?:ab)*/)[c]||4!="."[s](/(.?)(.?)/)[c]||"."[s](/()()/)[c]>1||""[s](/.?/)[c]){var l=void 0===/()??/.exec("")[1];n=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!a(t))return i.call(r,t,e);var n,s,f,p,d,m=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,y=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,v+"g");l||(n=new RegExp("^"+g.source+"$(?!\\s)",v));while(s=g.exec(r)){if(f=s.index+s[0][c],f>h&&(m.push(r.slice(h,s.index)),!l&&s[c]>1&&s[0].replace(n,function(){for(d=1;d<arguments[c]-2;d++)void 0===arguments[d]&&(s[d]=void 0)}),s[c]>1&&s.index<r[c]&&o.apply(m,s.slice(1)),p=s[0][c],h=f,m[c]>=y))break;g[u]===s.index&&g[u]++}return h===r[c]?!p&&g.test("")||m.push(""):m.push(r.slice(h)),m[c]>y?m.slice(0,y):m}}else"0"[s](void 0,0)[c]&&(n=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(r,a){var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},n]})},"2e08":function(t,e,r){var n=r("9def"),a=r("9744"),i=r("be13");t.exports=function(t,e,r,o){var s=String(i(t)),c=s.length,u=void 0===r?" ":String(r),l=n(e);if(l<=c||""==u)return s;var f=l-c,p=a.call(u,Math.ceil(f/u.length));return p.length>f&&(p=p.slice(0,f)),o?p+s:s+p}},"36bd":function(t,e,r){"use strict";var n=r("4bf8"),a=r("77f1"),i=r("9def");t.exports=function(t){var e=n(this),r=i(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,u=void 0===c?r:a(c,r);while(u>s)e[s++]=t;return e}},3846:function(t,e,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"3ca5":function(t,e,r){var n=r("7726").parseInt,a=r("aa77").trim,i=r("fdef"),o=/^[-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(t,e){var r=a(String(t),3);return n(r,e>>>0||(o.test(r)?16:10))}:n},"4f23":function(t,e,r){},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,r){var n=r("d3f4"),a=r("8b97").set;t.exports=function(t,e,r){var i,o=e.constructor;return o!==r&&"function"==typeof o&&(i=o.prototype)!==r.prototype&&n(i)&&a&&a(t,i),t}},6072:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"sequencer"}},[r("div",{class:{drum:0===t.tab,lead:1===t.tab},attrs:{id:"config"}},[r("button",{on:{click:t.tabHandler}},[r("i",{class:{fas:!0,"fa-drum":0===t.tab,"fa-music":1===t.tab}})]),r("button",{on:{click:t.random}},[r("i",{staticClass:"fas fa-random"})]),r("div",{attrs:{id:"play"}},[r("button",{on:{click:t.clickHandler}},[r("i",{class:{fas:!0,"fa-play":!t.isPlaying,"fa-pause":t.isPlaying}})])]),r("div",{attrs:{id:"bpm"}},[r("button",{on:{click:function(e){t.BPM-=5}}},[r("i",{staticClass:"fas fa-minus"})]),r("input",{attrs:{type:"text",readonly:""},domProps:{value:t.BPM}}),r("span",[t._v("bpm")]),r("button",{on:{click:function(e){t.BPM+=5}}},[r("i",{staticClass:"fas fa-plus"})])]),r("button",{on:{click:t.reset}},[r("i",{staticClass:"fas fa-trash-alt"})])]),r("div",{attrs:{id:"pad"}},[r("div",{attrs:{id:"timeLine"}},t._l(16,function(e){return r("div",{key:"time_"+e,class:{time:!0,active:t.index===e-1}})})),r("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tab,expression:"tab === 0"}],staticClass:"set",attrs:{id:"drum"}},[r("ul",{staticClass:"kick"},t._l(16,function(e){return r("li",{key:"kick_"+e,class:{item:!0,active:!!t.sequencer.drum.kick[e-1]},on:{click:function(r){t.$set(t.sequencer.drum.kick,e-1,!t.sequencer.drum.kick[e-1])}}})})),r("ul",{staticClass:"hihat"},t._l(16,function(e){return r("li",{key:"hihat_"+e,class:{item:!0,active:!!t.sequencer.drum.hihat[e-1]},on:{click:function(r){t.$set(t.sequencer.drum.hihat,e-1,!t.sequencer.drum.hihat[e-1])}}})})),r("ul",{staticClass:"snare"},t._l(16,function(e){return r("li",{key:"snare_"+e,class:{item:!0,active:!!t.sequencer.drum.snare[e-1]},on:{click:function(r){t.$set(t.sequencer.drum.snare,e-1,!t.sequencer.drum.snare[e-1])}}})})),r("ul",{staticClass:"tomL"},t._l(16,function(e){return r("li",{key:"tomL_"+e,class:{item:!0,active:!!t.sequencer.drum.tomL[e-1]},on:{click:function(r){t.$set(t.sequencer.drum.tomL,e-1,!t.sequencer.drum.tomL[e-1])}}})})),r("ul",{staticClass:"tomM"},t._l(16,function(e){return r("li",{key:"tomM_"+e,class:{item:!0,active:!!t.sequencer.drum.tomM[e-1]},on:{click:function(r){t.$set(t.sequencer.drum.tomM,e-1,!t.sequencer.drum.tomM[e-1])}}})})),r("ul",{staticClass:"tomH"},t._l(16,function(e){return r("li",{key:"tomH_"+e,class:{item:!0,active:!!t.sequencer.drum.tomH[e-1]},on:{click:function(r){t.$set(t.sequencer.drum.tomH,e-1,!t.sequencer.drum.tomH[e-1])}}})}))]),r("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tab,expression:"tab === 1"}],staticClass:"set",attrs:{id:"lead"}},t._l(t.sequencer.lead,function(e,n){return r("ul",{key:"lead_"+n},t._l(16,function(e){return r("li",{key:"lead_"+n+"_"+e,class:{item:!0,active:!!t.sequencer.lead[n][e-1]},on:{click:function(r){t.$set(t.sequencer.lead[n],e-1,!t.sequencer.lead[n][e-1])}}})}))}))])])},a=[],i=(r("a481"),r("6c7b"),r("c5f6"),r("04ff"),r("6b54"),r("f576"),r("28a5"),r("8cc4")),o=r.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}var l=function(){function t(e){var r=e.volume;s(this,t);var n=new i["Filter"]({frequency:11e3}),a=new i["NoiseSynth"]({volume:r,noise:{type:"pink",playbackRate:3},envelope:{attack:.001,decay:.15,sustain:1e-4,release:.05}}).connect(n),o=new i["PolySynth"](6,i["Synth"],{volume:r+6,oscillator:{partials:[0,2,3,4]},envelope:{attack:.001,decay:.17,sustain:1e-4,release:.08,releaseCurve:"exponential"}});return this.noise=a,this.poly=o,this.lpf=n,this}return u(t,[{key:"trigger",value:function(t){return this.noise.triggerAttack(t),this.poly.triggerAttackRelease(["C2","D#2","G2"],"16n",t),this}},{key:"toMaster",value:function(){return this.noise.toMaster(),this.poly.toMaster(),this}}]),t}(),f=r("0847"),p={name:"sequencer",data:function(){var t=this,e=this.$route.query,r=e.bpm,n=void 0===r?120:r,a=e.d,i=void 0===a?"":a,s=e.l,c=void 0===s?"":s,u=function(){var t=i.split(/-/),e={kick:t[0]?Number.parseInt(t[0],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),hihat:t[1]?Number.parseInt(t[1],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),snare:t[2]?Number.parseInt(t[2],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),tomL:t[3]?Number.parseInt(t[3],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),tomM:t[4]?Number.parseInt(t[4],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),tomH:t[5]?Number.parseInt(t[5],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0)},r=c.split(/-/),n=[r[0]?Number.parseInt(r[0],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),r[1]?Number.parseInt(r[1],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),r[2]?Number.parseInt(r[2],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),r[3]?Number.parseInt(r[3],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),r[4]?Number.parseInt(r[4],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),r[5]?Number.parseInt(r[5],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0),r[6]?Number.parseInt(r[6],16).toString(2).padStart(16).split("").map(function(t){return~~t}):new Array(16).fill(0)];return{drum:e,lead:n,bass:{mono:[]}}}(),f=new o.a.MembraneSynth({octaves:3,envelope:{sustain:.2}}).toMaster(),p=new o.a.MembraneSynth({octaves:1}).toMaster(),d=new o.a.MembraneSynth({octaves:1}).toMaster(),m=new o.a.MembraneSynth({octaves:1}).toMaster(),v=new o.a.NoiseSynth({playbackRate:5,envelope:{sustain:1e-4}}).toMaster(),h=new l({volume:-6}).toMaster(),y=new o.a.PolySynth(8,o.a.Synth,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.1,sustain:.3,release:.02}}).toMaster();f.volume.value=6,v.volume.value=-2,p.volume.value=0,d.volume.value=0,m.volume.value=0,y.set("volume",2),o.a.Transport.bpm.value=n,o.a.Transport.scheduleRepeat(function(e){var r=Math.round(o.a.Transport.getSecondsAtTime()*(t.BPM/15)%16);t.index=r;var n=t.sequencer,a=n.drum,i=a.kick,s=void 0===i?new Array(16).fill(0):i,c=a.tomL,u=void 0===c?new Array(16).fill(0):c,l=a.tomM,f=void 0===l?new Array(16).fill(0):l,p=a.tomH,d=void 0===p?new Array(16).fill(0):p,m=a.snare,v=void 0===m?new Array(16).fill(0):m,h=a.hihat,y=void 0===h?new Array(16).fill(0):h,g=n.lead;s[r]&&t.kick.triggerAttackRelease("C2","4n",e),y[r]&&t.hihat.triggerAttackRelease("8n",e),v[r]&&t.snare.trigger(e),u[r]&&t.tomL.triggerAttackRelease("E2","4n",e),f[r]&&t.tomM.triggerAttackRelease("G2","4n",e),d[r]&&t.tomH.triggerAttackRelease("A#2","4n",e),g[0][r]&&t.poly.triggerAttackRelease("C4","16n",e),g[1][r]&&t.poly.triggerAttackRelease("D4","16n",e),g[2][r]&&t.poly.triggerAttackRelease("E4","16n",e),g[3][r]&&t.poly.triggerAttackRelease("F4","16n",e),g[4][r]&&t.poly.triggerAttackRelease("G4","16n",e),g[5][r]&&t.poly.triggerAttackRelease("A4","16n",e),g[6][r]&&t.poly.triggerAttackRelease("C5","16n",e)},"16n");var g={drum:{kick:new Array(16).fill(0),hihat:new Array(16).fill(0),snare:new Array(16).fill(0),tomL:new Array(16).fill(0),tomM:new Array(16).fill(0),tomH:new Array(16).fill(0)},lead:[new Array(16).fill(0),new Array(16).fill(0),new Array(16).fill(0),new Array(16).fill(0),new Array(16).fill(0),new Array(16).fill(0),new Array(16).fill(0)],bass:{mono:[]}};return{sequencer:u,defaultSequencer:g,BPM:n,kick:f,hihat:v,snare:h,tomL:p,tomM:d,tomH:m,poly:y,isPlaying:!1,index:-1,tab:0}},methods:{clickHandler:function(){this.isPlaying?this.stop():this.play()},tabHandler:function(){this.tab=(this.tab+1)%2},reset:function(){0===this.tab?this.sequencer.drum=JSON.parse(JSON.stringify(this.defaultSequencer.drum)):1===this.tab&&(this.sequencer.lead=JSON.parse(JSON.stringify(this.defaultSequencer.lead)))},random:function(){0===this.tab?this.sequencer.drum={kick:this.getRandomArray(16),hihat:this.getRandomArray(16),snare:this.getRandomArray(16),tomL:this.getRandomArray(16),tomM:this.getRandomArray(16),tomH:this.getRandomArray(16)}:1===this.tab&&(this.sequencer.lead=[this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16)])},getRandomArray:function(t){return new Array(t).fill(0).map(function(){return Math.random()>.8})},play:function(){this.isPlaying=!0,o.a.Transport.start()},stop:function(){this.isPlaying=!1,o.a.Transport.stop(),this.index=-1}},computed:{},watch:{BPM:{handler:function(t){t>180?t=180:t<60&&(t=60),this.BPM=t,o.a.Transport.bpm.value=t;var e=this.$route.query,r=e.d,n=e.l;this.$router.replace({path:"/sequencer",query:{bpm:t,d:r,l:n}})}},sequencer:{handler:function(t){var e=t.drum,r=t.lead,n=(t.bass,[Number.parseInt(e.kick.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0),Number.parseInt(e.hihat.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0),Number.parseInt(e.snare.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0),Number.parseInt(e.tomL.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0),Number.parseInt(e.tomM.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0),Number.parseInt(e.tomH.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0)].join("-")),a=r.map(function(t){return Number.parseInt(t.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0)}).join("-"),i=this.$route.query.bpm,o=void 0===i?120:i;this.$router.replace({path:"/sequencer",query:{bpm:o,d:n,l:a}})},deep:!0}},mounted:function(){document.querySelector("#menuTrigger").style.display="none",Object(f["a"])(o.a.context),window.addEventListener("load",function(){setTimeout(function(){window.scrollTo(0,1)},10)})},beforeDestroy:function(){o.a.Transport.cancel().stop(),window.removeEventListener("load")}},d=p,m=(r("ebac"),r("2877")),v=Object(m["a"])(d,n,a,!1,null,"7bf4dac2",null);v.options.__file="Sequencer.vue";e["default"]=v.exports},"6b54":function(t,e,r){"use strict";r("3846");var n=r("cb7c"),a=r("0bfb"),i=r("9e1e"),o="toString",s=/./[o],c=function(t){r("2aba")(RegExp.prototype,o,t,!0)};r("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?a.call(t):void 0)}):s.name!=o&&c(function(){return s.call(this)})},"6c7b":function(t,e,r){var n=r("5ca1");n(n.P,"Array",{fill:r("36bd")}),r("9c6c")("fill")},"8b97":function(t,e,r){var n=r("d3f4"),a=r("cb7c"),i=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},9093:function(t,e,r){var n=r("ce10"),a=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},9744:function(t,e,r){"use strict";var n=r("4588"),a=r("be13");t.exports=function(t){var e=String(a(this)),r="",i=n(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},a481:function(t,e,r){r("214f")("replace",2,function(t,e,r){return[function(n,a){"use strict";var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,a):r.call(String(i),n,a)},r]})},aa77:function(t,e,r){var n=r("5ca1"),a=r("be13"),i=r("79e5"),o=r("fdef"),s="["+o+"]",c="​",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(t,e,r){var a={},s=i(function(){return!!o[t]()||c[t]()!=c}),u=a[t]=s?e(p):o[t];r&&(a[r]=u),n(n.P+n.F*s,"String",a)},p=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},aae3:function(t,e,r){var n=r("d3f4"),a=r("2d95"),i=r("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},c5f6:function(t,e,r){"use strict";var n=r("7726"),a=r("69a8"),i=r("2d95"),o=r("5dbc"),s=r("6a99"),c=r("79e5"),u=r("9093").f,l=r("11e9").f,f=r("86cc").f,p=r("aa77").trim,d="Number",m=n[d],v=m,h=m.prototype,y=i(r("2aeb")(h))==d,g="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():p(e,3);var r,n,a,i=e.charCodeAt(0);if(43===i||45===i){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+e}for(var o,c=e.slice(2),u=0,l=c.length;u<l;u++)if(o=c.charCodeAt(u),o<48||o>a)return NaN;return parseInt(c,n)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof m&&(y?c(function(){h.valueOf.call(r)}):i(r)!=d)?o(new v(b(e)),r,m):b(e)};for(var S,k=r("9e1e")?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;k.length>A;A++)a(v,S=k[A])&&!a(m,S)&&f(m,S,l(v,S));m.prototype=h,h.constructor=m,r("2aba")(n,d,m)}},ebac:function(t,e,r){"use strict";var n=r("4f23"),a=r.n(n);a.a},f576:function(t,e,r){"use strict";var n=r("5ca1"),a=r("2e08"),i=r("a25f");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-b43f97d8.d4ad8c13.js.map