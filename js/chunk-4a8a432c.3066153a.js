(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a8a432c"],{"0847":function(t,e,n){"use strict";e["a"]=function(t){if("suspended"===t.state&&"ontouchstart"in window){var e=function e(){t.resume().then((function(){document.body.removeEventListener("touchstart",e),document.body.removeEventListener("touchend",e)}))};document.body.addEventListener("touchstart",e,!1),document.body.addEventListener("touchend",e,!1)}}},"0d6e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"guitar-tuner"}},[n("h1",[t._v(" Guitar Tuner ")]),n("button",{on:{click:t.playHandler}},[t._v(" Play / Pause ")]),n("button",{on:{click:t.reset}},[t._v(" Reset ")]),n("div",{attrs:{id:"config"}},[n("div",{staticClass:"audio-note"},[t._m(0),n("div",{staticClass:"item"},[n("label",{attrs:{for:"standardA4"}},[t._v("A4 : "),n("span",[t._v(t._s(t.standardA4))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.standardA4,expression:"standardA4"}],attrs:{type:"range",min:"430",max:"450",step:"1",id:"standardA4Range"},domProps:{value:t.standardA4},on:{input:t.changeConfigHandler,__r:function(e){t.standardA4=e.target.value}}})]),n("div",{staticClass:"item"},[t._m(1),n("select",{directives:[{name:"model",rawName:"v-model",value:t.tuning,expression:"tuning"}],attrs:{id:"tuning"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tuning=e.target.multiple?n:n[0]},t.changeTuningHandler]}},[n("option",{attrs:{value:"standard",selected:""}},[t._v("標準")]),n("option",{attrs:{value:"1-step-down"}},[t._v("降全音")]),n("option",{attrs:{value:"drop-d"}},[t._v("Drop D")]),n("option",{attrs:{value:"open-e"}},[t._v("Open E")]),n("option",{attrs:{value:"open-d"}},[t._v("Open D")])])]),n("div",{staticClass:"item"},[n("label",{attrs:{for:"volume"}},[t._v("volume : "),n("span",[t._v(t._s(t.volume))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],attrs:{type:"range",min:"0",max:"5",step:"0.1",id:"volumeRange"},domProps:{value:t.volume},on:{input:t.changeConfigHandler,__r:function(e){t.volume=e.target.value}}})])])]),n("div",{attrs:{id:"notes"}},t._l(t.noteArr,(function(e){return n("div",{key:e,staticClass:"note",on:{click:function(n){return t.changeNoteHandler(e)}}},[t._v(t._s(e))])})),0),n("div",{attrs:{id:"display"}},[n("h1",[t._v(t._s(t.note))])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",[n("span",[t._v("設定")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{attrs:{for:"tuning"}},[t._v("調弦法 : "),n("span")])}],a=(n("fb6a"),n("0847")),r={name:"GuitarTuner",data:function(){var t=window.AudioContext||window.webkitAudioContext,e=new t,n=e.createOscillator(),i=e.createGain();return{isPlaying:!1,audioCtx:e,oscillator:n,gainNode:i,waveType:"triangle",frequency:440,detune:0,volume:1,standardA4:440,tuning:"standard",noteArr:["E2","A2","D3","G3","B3","E4"],note:"-"}},methods:{playHandler:function(){this.isPlaying?(this.stop(),this.note="-"):(this.changeNoteHandler(this.noteArr[0]),this.play()),this.isPlaying=!this.isPlaying},changeTuningHandler:function(){this.noteArr=this.getTuningNoteArr(this.tuning)},changeNoteHandler:function(t){this.note=t,this.frequency=this.getFrequency(this.getSemitone(t)),this.setNoteConfig()},changeConfigHandler:function(){this.frequency=this.getFrequency(this.getSemitone(this.note)),this.setNoteConfig()},reset:function(){this.waveType="triangle",this.standardA4=440,this.detune=0,this.volume=1,this.setNoteConfig()},play:function(){this.gainNode.connect(this.audioCtx.destination)},stop:function(){this.gainNode.disconnect(this.audioCtx.destination)},setNoteConfig:function(){this.oscillator.type=this.waveType,this.oscillator.frequency.value=this.frequency,this.oscillator.detune.value=this.detune,this.gainNode.gain.value=this.volume},getSemitone:function(t){if(!t||"-"===t)return 69;var e={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11};return e[t.slice(0,-1)]+12*(1+parseInt(t.slice(-1)))},getFrequency:function(t){return this.standardA4*Math.pow(2,(t-69)/12)},getTuningNoteArr:function(){var t={standard:["E2","A2","D3","G3","B3","E4"],"1-step-down":["D2","G2","C3","F3","A3","D4"],"drop-d":["D2","A2","D3","G3","B3","E4"],"open-e":["E2","B2","E3","G#3","B3","E4"],"open-d":["D2","A2","D3","F#3","A3","D4"]};return t[this.tuning]}},mounted:function(){Object(a["a"])(this.audioCtx),this.setNoteConfig(),this.oscillator.connect(this.gainNode),this.oscillator.start()},beforeDestroy:function(){this.isPlaying&&this.gainNode.disconnect(this.audioCtx.destination)}},s=r,u=(n("1176"),n("2877")),c=Object(u["a"])(s,i,o,!1,null,"248e6caa",null);e["default"]=c.exports},1176:function(t,e,n){"use strict";var i=n("f2b8"),o=n.n(i);o.a},"1dde":function(t,e,n){var i=n("d039"),o=n("b622"),a=n("2d00"),r=o("species");t.exports=function(t){return a>=51||!i((function(){var e=[],n=e.constructor={};return n[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},8418:function(t,e,n){"use strict";var i=n("c04e"),o=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var r=i(e);r in t?o.f(t,r,a(0,n)):t[r]=n}},ae40:function(t,e,n){var i=n("83ab"),o=n("d039"),a=n("5135"),r=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(a(s,t))return s[t];e||(e={});var n=[][t],c=!!a(e,"ACCESSORS")&&e.ACCESSORS,d=a(e,0)?e[0]:u,l=a(e,1)?e[1]:void 0;return s[t]=!!n&&!o((function(){if(c&&!i)return!0;var t={length:-1};c?r(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,d,l)}))}},e8b5:function(t,e,n){var i=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},f2b8:function(t,e,n){},fb6a:function(t,e,n){"use strict";var i=n("23e7"),o=n("861d"),a=n("e8b5"),r=n("23cb"),s=n("50c4"),u=n("fc6a"),c=n("8418"),d=n("b622"),l=n("1dde"),v=n("ae40"),f=l("slice"),h=v("slice",{ACCESSORS:!0,0:0,1:2}),p=d("species"),g=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,e){var n,i,d,l=u(this),v=s(l.length),f=r(t,v),h=r(void 0===e?v:e,v);if(a(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?o(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(l,f,h);for(i=new(void 0===n?Array:n)(m(h-f,0)),d=0;f<h;f++,d++)f in l&&c(i,d,l[f]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-4a8a432c.3066153a.js.map