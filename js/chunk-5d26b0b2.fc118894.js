(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d26b0b2"],{"04ff":function(t,e,n){var r=n("5ca1"),a=n("3ca5");r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a})},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,n){var r=n("52a7"),a=n("4630"),i=n("6821"),o=n("6a99"),s=n("69a8"),u=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=i(t),e=o(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return a(!r.f.call(t,e),t[e])}},"214f":function(t,e,n){"use strict";var r=n("32e9"),a=n("2aba"),i=n("79e5"),o=n("be13"),s=n("2b4c");t.exports=function(t,e,n){var u=s(t),c=n(o,u,""[t]),l=c[0],f=c[1];i(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(a(String.prototype,t,l),r(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},"28a5":function(t,e,n){n("214f")("split",2,function(t,e,r){"use strict";var a=n("aae3"),i=r,o=[].push,s="split",u="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var l=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!a(t))return i.call(n,t,e);var r,s,f,m,d,h=[],g=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,y=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,g+"g");l||(r=new RegExp("^"+v.source+"$(?!\\s)",g));while(s=v.exec(n)){if(f=s.index+s[0][u],f>p&&(h.push(n.slice(p,s.index)),!l&&s[u]>1&&s[0].replace(r,function(){for(d=1;d<arguments[u]-2;d++)void 0===arguments[d]&&(s[d]=void 0)}),s[u]>1&&s.index<n[u]&&o.apply(h,s.slice(1)),m=s[0][u],p=f,h[u]>=y))break;v[c]===s.index&&v[c]++}return p===n[u]?!m&&v.test("")||h.push(""):h.push(n.slice(p)),h[u]>y?h.slice(0,y):h}}else"0"[s](void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(n,a){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,a):r.call(String(i),n,a)},r]})},"2e08":function(t,e,n){var r=n("9def"),a=n("9744"),i=n("be13");t.exports=function(t,e,n,o){var s=String(i(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var f=l-u,m=a.call(c,Math.ceil(f/c.length));return m.length>f&&(m=m.slice(0,f)),o?m+s:s+m}},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),a=n("77f1"),i=n("9def");t.exports=function(t){var e=r(this),n=i(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:a(u,n);while(c>s)e[s++]=t;return e}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3ca5":function(t,e,n){var r=n("7726").parseInt,a=n("aa77").trim,i=n("fdef"),o=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var n=a(String(t),3);return r(n,e>>>0||(o.test(n)?16:10))}:r},"3e3f":function(t,e,n){"use strict";var r=n("a8ef"),a=n.n(r);a.a},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var i,o=e.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(t,i),t}},6072:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"sequencer"}},[n("div",{class:{drum:0===t.tab,lead:1===t.tab},attrs:{id:"config"}},[n("button",{on:{click:t.tabHandler}},[n("i",{class:{fas:!0,"fa-drum":0===t.tab,"fa-music":1===t.tab}})]),n("button",{on:{click:t.random}},[n("i",{staticClass:"fas fa-random"})]),n("div",{attrs:{id:"play"}},[n("button",{on:{click:t.playHandler}},[n("i",{class:{fas:!0,"fa-play":!t.isPlaying,"fa-pause":t.isPlaying}})])]),n("div",{attrs:{id:"bpm"}},[n("button",{on:{click:function(e){t.BPM-=5}}},[n("i",{staticClass:"fas fa-minus"})]),n("input",{attrs:{type:"text",readonly:""},domProps:{value:t.BPM}}),n("span",[t._v("bpm")]),n("button",{on:{click:function(e){t.BPM+=5}}},[n("i",{staticClass:"fas fa-plus"})])]),n("button",{on:{click:t.reset}},[n("i",{staticClass:"fas fa-trash-alt"})])]),n("div",{attrs:{id:"pad"},on:{mousedown:t.mousedown,mouseup:t.mouseup,touchstart:t.touchstart,touchend:t.touchend,touchmove:t.touchmove}},[n("div",{attrs:{id:"timeLine"}},t._l(16,function(e){return n("div",{key:"time_"+(e-1),class:{time:!0,active:t.index===e-1}})})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tab,expression:"tab === 0"}],staticClass:"set",attrs:{id:"drum"}},[n("ul",{staticClass:"kick"},t._l(16,function(e){return n("li",{key:"kick_"+(e-1),class:{item:!0,active:!!t.sequencer.drum.kick[e-1]},attrs:{name:"kick_"+(e-1)},on:{mousedown:function(n){t.clickHandler(t.sequencer.drum.kick,e-1)},mouseenter:function(){return t.mouseenter(t.sequencer.drum.kick,e-1)},touchstart:function(n){t.clickHandler(t.sequencer.drum.kick,e-1)}}})})),n("ul",{staticClass:"hihat"},t._l(16,function(e){return n("li",{key:"hihat_"+(e-1),class:{item:!0,active:!!t.sequencer.drum.hihat[e-1]},attrs:{name:"hihat_"+(e-1)},on:{mousedown:function(n){t.clickHandler(t.sequencer.drum.hihat,e-1)},mouseenter:function(){return t.mouseenter(t.sequencer.drum.hihat,e-1)}}})})),n("ul",{staticClass:"snare"},t._l(16,function(e){return n("li",{key:"snare_"+(e-1),class:{item:!0,active:!!t.sequencer.drum.snare[e-1]},attrs:{name:"snare_"+(e-1)},on:{mousedown:function(n){t.clickHandler(t.sequencer.drum.snare,e-1)},mouseenter:function(){return t.mouseenter(t.sequencer.drum.snare,e-1)}}})})),n("ul",{staticClass:"tomL"},t._l(16,function(e){return n("li",{key:"tomL_"+(e-1),class:{item:!0,active:!!t.sequencer.drum.tomL[e-1]},attrs:{name:"tomL_"+(e-1)},on:{mousedown:function(n){t.clickHandler(t.sequencer.drum.tomL,e-1)},mouseenter:function(){return t.mouseenter(t.sequencer.drum.tomL,e-1)}}})})),n("ul",{staticClass:"tomM"},t._l(16,function(e){return n("li",{key:"tomM_"+(e-1),class:{item:!0,active:!!t.sequencer.drum.tomM[e-1]},attrs:{name:"tomM_"+(e-1)},on:{mousedown:function(n){t.clickHandler(t.sequencer.drum.tomM,e-1)},mouseenter:function(){return t.mouseenter(t.sequencer.drum.tomM,e-1)}}})})),n("ul",{staticClass:"tomH"},t._l(16,function(e){return n("li",{key:"tomH_"+(e-1),class:{item:!0,active:!!t.sequencer.drum.tomH[e-1]},attrs:{name:"tomH_"+(e-1)},on:{mousedown:function(n){t.clickHandler(t.sequencer.drum.tomH,e-1)},mouseenter:function(){return t.mouseenter(t.sequencer.drum.tomH,e-1)}}})}))]),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tab,expression:"tab === 1"}],staticClass:"set",attrs:{id:"lead"}},t._l(t.sequencer.lead,function(e,r){return n("ul",{key:"lead_"+r},t._l(16,function(e){return n("li",{key:"lead_"+r+"_"+(e-1),class:{item:!0,active:!!t.sequencer.lead[r][e-1]},attrs:{name:"lead_"+r+"_"+(e-1)},on:{mousedown:function(n){t.clickHandler(t.sequencer.lead[r],e-1)},mouseenter:function(){return t.mouseenter(t.sequencer.lead[r],e-1)}}})}))}))])])},a=[],i=(n("a481"),n("c5f6"),n("04ff"),n("6b54"),n("f576"),n("6c7b"),n("28a5"),n("cadf"),n("551c"),n("097d"),n("8cc4")),o=n.n(i);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var l=function(){function t(e){var n=e.volume;s(this,t);var r=new i["Filter"]({frequency:11e3}),a=new i["NoiseSynth"]({volume:n,noise:{type:"pink",playbackRate:3},envelope:{attack:.001,decay:.15,sustain:1e-4,release:.05}}).connect(r),o=new i["PolySynth"](6,i["Synth"],{volume:n+6,oscillator:{partials:[0,2,3,4]},envelope:{attack:.001,decay:.17,sustain:1e-4,release:.08,releaseCurve:"exponential"}});return this.noise=a,this.poly=o,this.lpf=r,this}return c(t,[{key:"trigger",value:function(t){return this.noise.triggerAttack(t),this.poly.triggerAttackRelease(["C2","D#2","G2"],"16n",t),this}},{key:"toMaster",value:function(){return this.noise.toMaster(),this.poly.toMaster(),this}}]),t}(),f=n("0847"),m={name:"sequencer",data:function(){var t=this,e=this.$route.query,n=e.bpm,r=void 0===n?120:n,a=e.d,i=void 0===a?"":a,s=e.l,u=void 0===s?"":s,c=function(){var e=i.split(/-/),n={kick:t.getInitQueryData(e[0]),hihat:t.getInitQueryData(e[1]),snare:t.getInitQueryData(e[2]),tomL:t.getInitQueryData(e[3]),tomM:t.getInitQueryData(e[4]),tomH:t.getInitQueryData(e[5])},r=u.split(/-/),a=[t.getInitQueryData(r[0]),t.getInitQueryData(r[1]),t.getInitQueryData(r[2]),t.getInitQueryData(r[3]),t.getInitQueryData(r[4]),t.getInitQueryData(r[5]),t.getInitQueryData(r[6])];return{drum:n,lead:a,bass:{mono:[]}}}(),f=new o.a.MembraneSynth({octaves:3,envelope:{sustain:.2}}).toMaster(),m=new o.a.MembraneSynth({octaves:1}).toMaster(),d=new o.a.MembraneSynth({octaves:1}).toMaster(),h=new o.a.MembraneSynth({octaves:1}).toMaster(),g=new o.a.NoiseSynth({playbackRate:5,envelope:{sustain:1e-4}}).toMaster(),p=new l({volume:-6}).toMaster(),y=new o.a.PolySynth(8,o.a.Synth,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.1,sustain:.3,release:.02}}).toMaster();f.volume.value=6,g.volume.value=-2,m.volume.value=0,d.volume.value=0,h.volume.value=0,y.set("volume",2);var v=parseInt(r);o.a.Transport.bpm.value=v,o.a.Transport.scheduleRepeat(function(e){t.index=++t.index%16;var n=t.index,r=t.sequencer,a=r.drum,i=a.kick,o=void 0===i?t.getEmptyArray(16):i,s=a.tomL,u=void 0===s?t.getEmptyArray(16):s,c=a.tomM,l=void 0===c?t.getEmptyArray(16):c,f=a.tomH,m=void 0===f?t.getEmptyArray(16):f,d=a.snare,h=void 0===d?t.getEmptyArray(16):d,g=a.hihat,p=void 0===g?t.getEmptyArray(16):g,y=r.lead;o[n]&&t.kick.triggerAttackRelease("C2","4n",e),p[n]&&t.hihat.triggerAttackRelease("8n",e),h[n]&&t.snare.trigger(e),u[n]&&t.tomL.triggerAttackRelease("E2","4n",e),l[n]&&t.tomM.triggerAttackRelease("G2","4n",e),m[n]&&t.tomH.triggerAttackRelease("A#2","4n",e),y[0][n]&&t.poly.triggerAttackRelease("C4","16n",e),y[1][n]&&t.poly.triggerAttackRelease("D4","16n",e),y[2][n]&&t.poly.triggerAttackRelease("E4","16n",e),y[3][n]&&t.poly.triggerAttackRelease("F4","16n",e),y[4][n]&&t.poly.triggerAttackRelease("G4","16n",e),y[5][n]&&t.poly.triggerAttackRelease("A4","16n",e),y[6][n]&&t.poly.triggerAttackRelease("C5","16n",e)},"16n");var b={drum:{kick:this.getEmptyArray(16),hihat:this.getEmptyArray(16),snare:this.getEmptyArray(16),tomL:this.getEmptyArray(16),tomM:this.getEmptyArray(16),tomH:this.getEmptyArray(16)},lead:[this.getEmptyArray(16),this.getEmptyArray(16),this.getEmptyArray(16),this.getEmptyArray(16),this.getEmptyArray(16),this.getEmptyArray(16),this.getEmptyArray(16)],bass:{mono:[]}};return{sequencer:c,defaultSequencer:b,BPM:v,kick:f,hihat:g,snare:p,tomL:m,tomM:d,tomH:h,poly:y,isPlaying:!1,isDraging:!1,touchTarget:"",index:-1,tab:0}},methods:{playHandler:function(){this.isPlaying?this.stop():this.play()},tabHandler:function(){this.tab=(this.tab+1)%2},clickHandler:function(t,e){this.$set(t,e,!t[e])},reset:function(){0===this.tab?this.sequencer.drum=JSON.parse(JSON.stringify(this.defaultSequencer.drum)):1===this.tab&&(this.sequencer.lead=JSON.parse(JSON.stringify(this.defaultSequencer.lead)))},random:function(){0===this.tab?this.sequencer.drum={kick:this.getRandomArray(16),hihat:this.getRandomArray(16),snare:this.getRandomArray(16),tomL:this.getRandomArray(16),tomM:this.getRandomArray(16),tomH:this.getRandomArray(16)}:1===this.tab&&(this.sequencer.lead=[this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16),this.getRandomArray(16)])},getEmptyArray:function(t){return new Array(t).fill(0)},getRandomArray:function(t){return this.getEmptyArray(t).map(function(){return Math.random()>.8})},getHexQueryString:function(t){return Number.parseInt(t.map(function(t){return~~t}).join(""),2).toString(16).padStart(4,0)},getInitQueryData:function(t){return t?Number.parseInt(t,16).toString(2).padStart(16).split("").map(function(t){return~~t}):this.getEmptyArray(16)},play:function(){this.isPlaying=!0,o.a.Transport.start()},stop:function(){this.isPlaying=!1,o.a.Transport.stop(),this.index=-1},mousedown:function(){this.isDraging=!0},mouseenter:function(t,e){this.isDraging&&this.clickHandler(t,e)},mouseup:function(){this.isDraging=!1},touchstart:function(t){this.isDraging=!0,this.touchTarget=t.target.getAttribute("name")},touchmove:function(t){if(this.isDraging){var e=t.targetTouches[0],n=e.clientX,r=e.clientY,a=document.elementFromPoint(n,r).getAttribute("name");if(a&&a!==this.touchTarget){this.touchTarget=a;var i=a.split("_");"lead"===i[0]?this.clickHandler(this.sequencer.lead[i[1]],i[2]):this.clickHandler(this.sequencer.drum[i[0]],i[1])}t.preventDefault()}},touchend:function(){this.isDraging=!1,this.touchTarget=""}},computed:{},watch:{BPM:{handler:function(t){t>180?t=180:t<60&&(t=60),this.BPM=t,o.a.Transport.bpm.value=t;var e=this.$route.query,n=e.d,r=e.l;this.$router.replace({path:"/sequencer",query:{bpm:t,d:n,l:r}})}},sequencer:{handler:function(t){var e=this,n=t.drum,r=t.lead,a=(t.bass,[this.getHexQueryString(n.kick),this.getHexQueryString(n.hihat),this.getHexQueryString(n.snare),this.getHexQueryString(n.tomL),this.getHexQueryString(n.tomM),this.getHexQueryString(n.tomH)].join("-")),i=r.map(function(t){return e.getHexQueryString(t)}).join("-"),o=this.$route.query.bpm,s=void 0===o?120:o;this.$router.replace({path:"/sequencer",query:{bpm:s,d:a,l:i}})},deep:!0}},mounted:function(){document.querySelector("#menuTrigger").style.display="none",Object(f["a"])(o.a.context),window.addEventListener("load",function(){setTimeout(function(){window.scrollTo(0,1)},10)})},beforeDestroy:function(){o.a.Transport.cancel().stop(),window.removeEventListener("load")}},d=m,h=(n("3e3f"),n("2877")),g=Object(h["a"])(d,r,a,!1,null,"247dcdfd",null);g.options.__file="Sequencer.vue";e["default"]=g.exports},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),a=n("0bfb"),i=n("9e1e"),o="toString",s=/./[o],u=function(t){n("2aba")(RegExp.prototype,o,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?a.call(t):void 0)}):s.name!=o&&u(function(){return s.call(this)})},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),i=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},9093:function(t,e,n){var r=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},9744:function(t,e,n){"use strict";var r=n("4588"),a=n("be13");t.exports=function(t){var e=String(a(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},a481:function(t,e,n){n("214f")("replace",2,function(t,e,n){return[function(r,a){"use strict";var i=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},n]})},a8ef:function(t,e,n){},aa77:function(t,e,n){var r=n("5ca1"),a=n("be13"),i=n("79e5"),o=n("fdef"),s="["+o+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(t,e,n){var a={},s=i(function(){return!!o[t]()||u[t]()!=u}),c=a[t]=s?e(m):o[t];n&&(a[n]=c),r(r.P+r.F*s,"String",a)},m=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},aae3:function(t,e,n){var r=n("d3f4"),a=n("2d95"),i=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},c5f6:function(t,e,n){"use strict";var r=n("7726"),a=n("69a8"),i=n("2d95"),o=n("5dbc"),s=n("6a99"),u=n("79e5"),c=n("9093").f,l=n("11e9").f,f=n("86cc").f,m=n("aa77").trim,d="Number",h=r[d],g=h,p=h.prototype,y=i(n("2aeb")(p))==d,v="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():m(e,3);var n,r,a,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var o,u=e.slice(2),c=0,l=u.length;c<l;c++)if(o=u.charCodeAt(c),o<48||o>a)return NaN;return parseInt(u,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(y?u(function(){p.valueOf.call(n)}):i(n)!=d)?o(new g(b(e)),n,h):b(e)};for(var k,A=n("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;A.length>w;w++)a(g,k=A[w])&&!a(h,k)&&f(h,k,l(g,k));h.prototype=p,p.constructor=h,n("2aba")(r,d,h)}},f576:function(t,e,n){"use strict";var r=n("5ca1"),a=n("2e08"),i=n("a25f");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-5d26b0b2.fc118894.js.map